<<<<<<< HEAD
{"version":3,"sources":["webpack:///D:/WorkBase/mp/uni-app/main.js","webpack:///D:/WorkBase/mp/uni-app/pages/home/posting.vue?839c","webpack:///D:/WorkBase/mp/uni-app/pages/home/posting.vue?4d9f","webpack:///D:/WorkBase/mp/uni-app/pages/home/posting.vue?233d","webpack:///D:/WorkBase/mp/uni-app/pages/home/posting.vue?6b96","webpack:///D:/WorkBase/mp/uni-app/pages/home/posting.vue","webpack:///D:/WorkBase/mp/uni-app/pages/home/posting.vue?9fcd","webpack:///D:/WorkBase/mp/uni-app/pages/home/posting.vue?63a3"],"names":["createPage","Page","data","text","linkObj","picList","onlyText","editText","textNum","extendList","picInd","t_objs","methods","textChange","e","val","detail","value","len","length","$acFrame","Util","mytotal","changeData","obj","console","log","choosePic","self","uni","chooseImage","count","sizeType","sourceType","success","res","tempFilePaths","i","push","setImg","src","setImgUrl","uploadPic","id","token","getStorageSync","channel","imgUrl","wx","uploadFile","url","getApp","globalData","config","basePath","filePath","header","name","_data","JSON","parse","fail","error","hideLoading","navigateBack","removePic","ind","splice","showpic","showBigPic","linkTo","getText","navigateTo","complete","setLink","removeLink","setVal","type","atUserCode","atName","index","topicId","topicName","t","star","filter","v","mark","end","indexOf","_len","aftertetxt","substring","confirmPost","a_text","replace","RegExp","params","content","itemLinkList","_obj","linkType","goodsId","rankType","key","HttpService","raleasePost","then","showLoading","title","mask"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,+F;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsF;AAC3B;AACL;AACc;;;AAGpE;AACyI;AACzI,gBAAgB,iJAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAixB,CAAgB,8vBAAG,EAAC,C;;;;;;;;;;;;mICAryB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACbC,MADa,kBACN;AACL,WAAO;AACLC,UAAI,EAAE,EADD;AAELC,aAAO,EAAE,EAFJ;AAGLC,aAAO,EAAE,EAHJ;AAILC,cAAQ,EAAE,EAJL;AAKLC,cAAQ,EAAE,EALL;AAMLC,aAAO,EAAE,CANJ;AAOLC,gBAAU,EAAE,EAPP;AAQLC,YAAM,EAAE,CARH;AASRC,YAAM,EAAC,EATC,EAAP;;AAWD,GAbY;AAcbC,SAAO,EAAE;AACPC,cADO,sBACIC,CADJ,EACO;AACZ,UAAIC,GAAG,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAnB;AACA,WAAKV,QAAL,GAAgBQ,GAAhB;AACA,UAAIG,GAAG,GAAGH,GAAG,CAACI,MAAd;AACA,UAAID,GAAG,GAAG,GAAV,EAAe;AACb,aAAKE,QAAL,CAAcC,IAAd,CAAmBC,OAAnB,CAA2B,cAA3B;AACD,OAFD,MAEO;AACL,aAAKd,OAAL,GAAeU,GAAf;AACD;AACF,KAVM;AAWPK,cAXO,sBAWIC,GAXJ,EAWS;AACdC,aAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,WAAKpB,OAAL,GAAeoB,GAAf;AACD,KAdM;AAePG,aAfO,uBAeK;AACV,UAAIC,IAAI,GAAG,IAAX;AACH,UAAIV,GAAG,GAAEU,IAAI,CAACvB,OAAL,CAAac,MAAtB;AACA,UAAGD,GAAG,IAAE,CAAR,EAAU;AACTU,YAAI,CAACR,QAAL,CAAcC,IAAd,CAAmBC,OAAnB,CAA2B,aAA3B;AACA,eAAO,KAAP;AACA;AACEO,SAAG,CAACC,WAAJ,CAAgB;AACdC,aAAK,EAAE,IAAEb,GADK;AAEdc,gBAAQ,EAAE,CAAC,YAAD,CAFI,EAEY;AAC1BC,kBAAU,EAAE,CAAC,OAAD,EAAU,QAAV,CAHE,EAGmB;AACjCC,eAAO,EAAE,iBAASC,GAAT,EAAc;AACrB,cAAIC,aAAa,GAAGD,GAAG,CAACC,aAAxB;AACA,eAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACD,aAAa,CAACjB,MAA5B,EAAmCkB,CAAC,EAApC,EAAuC;AACnCT,gBAAI,CAACvB,OAAL,CAAaiC,IAAb,CAAkBF,aAAa,CAACC,CAAD,CAA/B;AACH;AACF,SATa,EAAhB;;AAWD,KAjCM;AAkCVE,UAlCU,kBAkCHC,GAlCG,EAkCC;AACV,aAAQ,KAAKpB,QAAL,CAAcC,IAAd,CAAmBoB,SAAnB,CAA6BD,GAA7B,CAAR;AACA,KApCS;AAqCPE,aArCO,qBAqCGC,EArCH,EAqCO;AACZ,UAAIC,KAAK,GAAGf,GAAG,CAACgB,cAAJ,CAAmB,cAAnB,CAAZ;AACA,UAAIC,OAAO,GAAG,OAAd;AACA,UAAIlB,IAAI,GAAG,IAAX;AACA,UAAImB,MAAM,GAAGnB,IAAI,CAACvB,OAAL,CAAauB,IAAI,CAAClB,MAAlB,CAAb;AACA,UAAIQ,GAAG,GAAGU,IAAI,CAACvB,OAAL,CAAac,MAAvB;AACA,UAAIS,IAAI,CAAClB,MAAL,GAAcQ,GAAlB,EAAuB;AACrB8B,UAAE,CAACC,UAAH,CAAc;AACZC,aAAG;AACDC,gBAAM,GAAGC,UAAT,CAAoBC,MAApB,CAA2BC,QAA3B;AACA,sDADA;AAEAX,YAJU,EAIN;AACNY,kBAAQ,EAAER,MALE;AAMZS,gBAAM,EAAE;AACNZ,iBAAK,EAALA,KADM;AAENE,mBAAO,EAAPA,OAFM,EANI;;AAUZ;AACAW,cAAI,EAAE,MAXM;AAYZvB,iBAAO,EAAE,iBAASC,GAAT,EAAc;AACrB,gBAAIuB,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWzB,GAAG,CAACjC,IAAf,CAAZ;AACA,gBAAIwD,KAAK,CAACxB,OAAV,EAAmB;AACjBN,kBAAI,CAAClB,MAAL;AACAkB,kBAAI,CAACc,SAAL,CAAeC,EAAf;AACD;AACF,WAlBW;AAmBZkB,cAAI,EAAE,cAAAC,KAAK,EAAI;AACblC,gBAAI,CAACR,QAAL,CAAcC,IAAd,CAAmBC,OAAnB,CAA2BwC,KAA3B;AACD,WArBW,EAAd;;AAuBD,OAxBD,MAwBO;AACXjC,WAAG,CAACkC,WAAJ;AACMlC,WAAG,CAACmC,YAAJ,CAAiB,EAAjB;AACD;AACF,KAvEM;AAwEPC,aAxEO,qBAwEGC,GAxEH,EAwEQ;AACb,WAAK7D,OAAL,CAAa8D,MAAb,CAAoBD,GAApB,EAAyB,CAAzB;AACD,KA1EM;AA2EPE,WA3EO,mBA2ECF,GA3ED,EA2EM;AACX,WAAK9C,QAAL,CAAcC,IAAd,CAAmBgD,UAAnB,CAA8B,KAAKhE,OAAL,CAAa6D,GAAb,CAA9B,EAAiD,KAAK7D,OAAtD;AACD,KA7EM;AA8EPiE,UA9EO,kBA8EAb,IA9EA,EA8EM;AACX,WAAKc,OAAL;AACA1C,SAAG,CAAC2C,UAAJ,CAAe;AACbtB,WAAG,EAAEO,IADQ;AAEbvB,eAAO,EAAE,iBAAAC,GAAG,EAAI,CAAE,CAFL;AAGb0B,YAAI,EAAE,gBAAM,CAAE,CAHD;AAIbY,gBAAQ,EAAE,oBAAM,CAAE,CAJL,EAAf;;AAMD,KAtFM;AAuFPC,WAvFO,mBAuFClD,GAvFD,EAuFM;AACf;AACAC,aAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,WAAKpB,OAAL,GAAeoB,GAAf;AACA,KA3FS;AA4FVmD,cA5FU,wBA4FE;AACX,WAAKvE,OAAL,GAAe,IAAf;AACA,KA9FS;AA+FPwE,UA/FO,kBA+FAjC,EA/FA,EA+FIc,IA/FJ,EA+FUoB,IA/FV,EA+FgB;AACrB,UAAI3D,GAAG,GAAG,KAAKZ,QAAL,CAAca,MAAxB;AACA,UAAIhB,IAAI,GAAG,KAAKI,QAAhB;AACA,UAAIiB,GAAG,GAAG,EAAV;AACH,UAAIb,MAAM,GAAG,KAAKA,MAAlB;AACG,UAAIkE,IAAI,IAAI,QAAZ,EAAsB;AACpBrD,WAAG,CAACsD,UAAJ,GAAiBnC,EAAjB;AACAnB,WAAG,CAACuD,MAAJ,GAAatB,IAAb;AACAjC,WAAG,CAACwD,KAAJ,GAAY9D,GAAZ;AACNM,WAAG,CAACqD,IAAJ,GAAS,CAAT;AACArD,WAAG,CAACyD,OAAJ,GAAc,CAAd;AACAzD,WAAG,CAAC0D,SAAJ,GAAgB,EAAhB;AACA,YAAIC,CAAC,GAAG,MAAM1B,IAAd;AACMtD,YAAI,IAAIgF,CAAR;AACNxE,cAAM,CAACwE,CAAD,CAAN,GAAUjE,GAAV;AACK,OAVD,MAUO;AACLM,WAAG,CAACyD,OAAJ,GAActC,EAAd;AACAnB,WAAG,CAAC0D,SAAJ,GAAgBzB,IAAhB;AACAjC,WAAG,CAACsD,UAAJ,GAAiB,EAAjB;AACAtD,WAAG,CAACuD,MAAJ,GAAa,EAAb;AACAvD,WAAG,CAACwD,KAAJ,GAAY9D,GAAZ;AACAM,WAAG,CAACqD,IAAJ,GAAS,CAAT;AACN,YAAIM,CAAC,GAAG,MAAM1B,IAAN,GAAa,GAArB;AACAtD,YAAI,IAAIgF,CAAR;AACAxE,cAAM,CAACwE,CAAD,CAAN,GAAUjE,GAAV;AACK;AACD,WAAKT,UAAL,CAAgB6B,IAAhB,CAAqBd,GAArB;AACA,WAAKjB,QAAL,GAAgBJ,IAAhB;AACD,KA3HM;AA4HPoE,WA5HO,qBA4HG;AACR,UAAIpE,IAAI,GAAG,KAAKI,QAAhB;AACH;AACG,UAAIqB,IAAI,GAAG,IAAX;AACA,UAAI,KAAKnB,UAAL,CAAgBU,MAAhB,GAAyB,CAA7B,EAAgC;AAC9B,YAAIiE,IAAI,GAAG,CAAX;AACA,aAAK3E,UAAL,CAAgB4E,MAAhB,CAAuB,UAACC,CAAD,EAAIjD,CAAJ,EAAU;AAC/B,cAAIkD,IAAI,GAAG,EAAX;;AAEA,cAAID,CAAC,CAACP,MAAN,EAAc;AACZQ,gBAAI,GAAG,MAAMD,CAAC,CAACP,MAAf;AACD,WAFD,MAEO;AACLQ,gBAAI,GAAG,MAAMD,CAAC,CAACJ,SAAR,GAAoB,GAA3B;AACD;AACP,cAAIhE,GAAG,GAAGf,IAAI,CAACgB,MAAf;AACM,cAAIqE,GAAG,GAAGrF,IAAI,CAACsF,OAAL,CAAaF,IAAb,CAAV;AACA,cAAIG,IAAI,GAAGH,IAAI,CAACpE,MAAhB;AACNiE,cAAI,GAAGM,IAAI,GAACF,GAAZ;AACA,cAAIG,UAAU,GAAGxF,IAAI,CAACyF,SAAL,CAAeR,IAAf,EAAqBlE,GAArB,CAAjB;;AAEMU,cAAI,CAACtB,QAAL,IAAiBqF,UAAjB;AACAP,cAAI,GAAGI,GAAG,GAAGtE,GAAb;AACD,SAhBD;AAiBD,OAnBD,MAmBO;AACLU,YAAI,CAACtB,QAAL,GAAgBH,IAAhB;AACD;AACF,KAtJM;AAuJP0F,eAvJO,yBAuJO;AACZ,WAAKtB,OAAL;AACA,UAAI3C,IAAI,GAAG,IAAX;;AAEH,UAAIjB,MAAM,GAAG,KAAKA,MAAlB;AACA,UAAImF,MAAM,GAAG,KAAKvF,QAAlB;AACA,UAAGuF,MAAH,EAAU;AACT,aAAI,IAAIzD,CAAR,IAAa1B,MAAb,EAAoB;AACnBmF,gBAAM,GAAGA,MAAM,CAACC,OAAP,CAAe,IAAIC,MAAJ,CAAW3D,CAAX,EAAa,IAAb,CAAf,EAAkC,SAAlC,CAAT;AACA;AACD;;AAEE,UAAI4D,MAAM,GAAG;AACXC,eAAO,EAAEJ,MADE;AAEXrF,kBAAU,EAAE,KAAKA,UAFN;AAGjB0F,oBAAY,EAAC,EAHI,EAAb;;;AAMJ,UAAIC,IAAI,GAAG;AACVC,gBAAQ,EAACzE,IAAI,CAACxB,OAAL,CAAayE,IADZ,EAAX;;AAGA,UAAGjD,IAAI,CAACxB,OAAL,CAAayE,IAAb,IAAmB,CAAtB,EAAwB;AACtBuB,YAAI,CAACE,OAAL,GAAgB1E,IAAI,CAACxB,OAAL,CAAakG,OAA7B;AACAL,cAAM,CAACE,YAAP,CAAoB7D,IAApB,CAAyB8D,IAAzB;AACD,OAHD,MAGM,IAAGxE,IAAI,CAACxB,OAAL,CAAayE,IAAb,IAAmB,CAAtB,EAAwB;AAC7BuB,YAAI,CAACG,QAAL,GAAkB3E,IAAI,CAACxB,OAAL,CAAaoG,GAA/B;AACAP,cAAM,CAACE,YAAP,CAAoB7D,IAApB,CAAyB8D,IAAzB;AACA;AACG,UAAI,CAACH,MAAM,CAACC,OAAZ,EAAqB;AACnB,aAAK9E,QAAL,CAAcC,IAAd,CAAmBC,OAAnB,CAA2B,UAA3B;AACA,eAAO,KAAP;AACD;;AAEJG,aAAO,CAACC,GAAR,CAAYuE,MAAZ;;AAEA;AACG,WAAK7E,QAAL,CAAcqF,WAAd,CAA0BC,WAA1B,CAAsCT,MAAtC,EAA8CU,IAA9C,CAAmD,UAAAxE,GAAG,EAAI;AACxD,YAAIA,GAAG,CAACD,OAAR,EAAiB;AACvBN,cAAI,CAACR,QAAL,CAAcC,IAAd,CAAmBC,OAAnB,CAA2B,MAA3B,EAAkC,MAAlC,EAAyC,IAAzC;AACA;AACA;AACA;AACA;AACQ,cAAIM,IAAI,CAACvB,OAAL,CAAac,MAAb,GAAsB,CAA1B,EAA6B;AAClCU,eAAG,CAAC+E,WAAJ,CAAgB;AACfC,mBAAK,EAAC,QADS;AAEfC,kBAAI,EAAC,IAFU,EAAhB;;AAIOlF,gBAAI,CAACc,SAAL,CAAeP,GAAG,CAACjC,IAAnB;AACD,WAND,MAMO;AACd2B,eAAG,CAACkC,WAAJ;AACQ;AACP;AACA;AACA;AACK;AACF,OApBD;AAqBD,KAhNM,EAdI,E;;;;;;;;;;;;;ACzDf;AAAA;AAAA;AAAA;AAAmyC,CAAgB,0sCAAG,EAAC,C;;;;;;;;;;;ACAvzC,uC","file":"pages/home/posting.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/home/posting.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./posting.vue?vue&type=template&id=57cbfe75&\"\nimport script from \"./posting.vue?vue&type=script&lang=js&\"\nexport * from \"./posting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./posting.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('57cbfe75', component.options)\n    } else {\n      api.reload('57cbfe75', component.options)\n    }\n    module.hot.accept(\"./posting.vue?vue&type=template&id=57cbfe75&\", function () {\n      api.rerender('57cbfe75', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"WorkBase/mp/uni-app/pages/home/posting.vue\"\nexport default component.exports","export * from \"-!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./posting.vue?vue&type=template&id=57cbfe75&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.setImg(_vm.linkObj.imgPath)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./posting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./posting.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      text: \"\",\r\n      linkObj: {},\r\n      picList: [],\r\n      onlyText: \"\",\r\n      editText: \"\",\r\n      textNum: 0,\r\n      extendList: [],\r\n      picInd: 0,\r\n\t  t_objs:{}\r\n    };\r\n  },\r\n  methods: {\r\n    textChange(e) {\r\n      let val = e.detail.value;\r\n      this.editText = val;\r\n      let len = val.length;\r\n      if (len > 500) {\r\n        this.$acFrame.Util.mytotal(\"亲，放不下太多的文字了！\");\r\n      } else {\r\n        this.textNum = len;\r\n      }\r\n    },\r\n    changeData(obj) {\r\n      console.log(obj);\r\n      this.linkObj = obj;\r\n    },\r\n    choosePic() {\r\n      let self = this;\r\n\t  let len =self.picList.length\r\n\t  if(len==9){\r\n\t\t  self.$acFrame.Util.mytotal(\"亲，最多上传九张图片哦\");\r\n\t\t  return false;\r\n\t  }\r\n      uni.chooseImage({\r\n        count: 9-len,\r\n        sizeType: [\"compressed\"], // 可以指定是原图还是压缩图，默认二者都有\r\n        sourceType: [\"album\", \"camera\"], // 可以指定来源是相册还是相机，默认二者都有\r\n        success: function(res) {\r\n          let tempFilePaths = res.tempFilePaths;\r\n          for(let i=0;i<tempFilePaths.length;i++){\r\n              self.picList.push(tempFilePaths[i]);\r\n          }  \r\n        }\r\n      });\r\n    },\r\n\tsetImg(src){\r\n\t\treturn  this.$acFrame.Util.setImgUrl(src);\r\n\t},\r\n    uploadPic(id) {\r\n      let token = uni.getStorageSync(\"access_token\");\r\n      let channel = \"MP_WX\";\r\n      let self = this;\r\n      let imgUrl = self.picList[self.picInd];\r\n      let len = self.picList.length;\r\n      if (self.picInd < len) {\r\n        wx.uploadFile({\r\n          url:\r\n            getApp().globalData.config.basePath +\r\n            \"article/info/publish_tie_img?articleTieId=\" +\r\n            id, // 仅为示例，非真实的接口地址\r\n          filePath: imgUrl,\r\n          header: {\r\n            token,\r\n            channel\r\n          },\r\n          // formData:_data,\r\n          name: \"file\",\r\n          success: function(res) {\r\n            let _data = JSON.parse(res.data);\r\n            if (_data.success) {\r\n              self.picInd++;\r\n              self.uploadPic(id);\r\n            }\r\n          },\r\n          fail: error => {\r\n            self.$acFrame.Util.mytotal(error);\r\n          }\r\n        });\r\n      } else {\r\n\t\tuni.hideLoading();\r\n        uni.navigateBack({});\r\n      }\r\n    },\r\n    removePic(ind) {\r\n      this.picList.splice(ind, 1);\r\n    },\r\n    showpic(ind) {\r\n      this.$acFrame.Util.showBigPic(this.picList[ind], this.picList);\r\n    },\r\n    linkTo(name) {\r\n      this.getText();\r\n      uni.navigateTo({\r\n        url: name,\r\n        success: res => {},\r\n        fail: () => {},\r\n        complete: () => {}\r\n      });\r\n    },\r\n    setLink(obj) {\r\n\t\t//debugger\r\n\t\tconsole.log(obj);\r\n\t\tthis.linkObj = obj;\r\n\t},\r\n\tremoveLink(){\r\n\t\tthis.linkObj = null;\r\n\t},\r\n    setVal(id, name, type) {\r\n      let len = this.onlyText.length;\r\n      let text = this.editText;\r\n      let obj = {};\r\n\t  var t_objs = this.t_objs;\r\n      if (type == \"friend\") {\r\n        obj.atUserCode = id;\r\n        obj.atName = name;\r\n        obj.index = len;\r\n\t\tobj.type=1;\r\n\t\tobj.topicId = 0;\r\n\t\tobj.topicName = \"\";\r\n\t\tvar t = \"@\" + name;\r\n        text += t ;\r\n\t\tt_objs[t]=len;\r\n      } else {\r\n        obj.topicId = id;\r\n        obj.topicName = name;\r\n        obj.atUserCode = \"\";\r\n        obj.atName = \"\";\r\n        obj.index = len;\r\n        obj.type=2;\r\n\t\tvar t = \"#\" + name + \"#\";\r\n\t\ttext += t ;\r\n\t\tt_objs[t]=len;\r\n      }\r\n      this.extendList.push(obj);\r\n      this.editText = text;\r\n    },\r\n    getText() {\r\n      let text = this.editText;\r\n\t  //debugger\r\n      let self = this;\r\n      if (this.extendList.length > 0) {\r\n        let star = 0;\r\n        this.extendList.filter((v, i) => {\r\n          let mark = \"\";\r\n\r\n          if (v.atName) {\r\n            mark = \"@\" + v.atName;\r\n          } else {\r\n            mark = \"#\" + v.topicName + \"#\";\r\n          }\r\n\t\t  let len = text.length\r\n          let end = text.indexOf(mark);\r\n          let _len = mark.length;\r\n\t\t  star = _len+end\r\n\t\t  let aftertetxt = text.substring(star, len);\r\n\t\t  \r\n          self.onlyText += aftertetxt\r\n          star = end + len;\r\n        });\r\n      } else {\r\n        self.onlyText = text;\r\n      }\r\n    },\r\n    confirmPost() {\r\n      this.getText();\r\n      let self = this;\r\n\t \r\n\t  var t_objs = this.t_objs;\r\n\t  var a_text = this.editText;\r\n\t  if(a_text){\r\n\t\t  for(var i in t_objs){\r\n\t\t\t  a_text = a_text.replace(new RegExp(i,\"gm\"),\"{-----}\");  \r\n\t\t  }\r\n\t  }\r\n\t \r\n      let params = {\r\n        content: a_text,\r\n        extendList: this.extendList,\r\n\t\titemLinkList:[],\r\n      };\r\n\t  \r\n\t\tlet _obj = {\r\n\t\t\tlinkType:self.linkObj.type,\r\n\t\t};\r\n\t\tif(self.linkObj.type==1){\r\n\t\t\t _obj.goodsId  = self.linkObj.goodsId\r\n\t\t\t params.itemLinkList.push(_obj)\r\n\t\t}else if(self.linkObj.type==2){\r\n\t\t\t_obj.rankType   = self.linkObj.key\r\n\t\t\tparams.itemLinkList.push(_obj)\r\n\t\t}\r\n      if (!params.content) {\r\n        this.$acFrame.Util.mytotal(\"请输入帖子内容！\");\r\n        return false;\r\n      }\r\n\t  \r\n\t  console.log(params);\r\n\t  \r\n\t  //return ;\r\n      this.$acFrame.HttpService.raleasePost(params).then(res => {\r\n        if (res.success) {\r\n\t\tself.$acFrame.Util.mytotal('发帖成功','none',true)\r\n\t\t// uni.showLoading({\r\n\t\t// \ttitle:'发帖成功！',\r\n\t\t// \tmask:true\r\n\t\t// })\r\n          if (self.picList.length > 0) {\r\n\t\t\t  uni.showLoading({\r\n\t\t\t  \ttitle:'图片上传中！',\r\n\t\t\t  \tmask:true\r\n\t\t\t  })\r\n            self.uploadPic(res.data);\r\n          } else {\r\n\t\t\tuni.hideLoading();\r\n          }\r\n\t\t  // setTimeout(()=>{\r\n\t\t  // \tuni.navigateBack({});\r\n\t\t  // },1500)\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n","import mod from \"-!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./posting.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./posting.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}
=======
{"version":3,"sources":["webpack:///D:/WorkBase/mp/uni-app/main.js","webpack:///D:/WorkBase/mp/uni-app/pages/home/posting.vue?839c","webpack:///D:/WorkBase/mp/uni-app/pages/home/posting.vue?4d9f","webpack:///D:/WorkBase/mp/uni-app/pages/home/posting.vue?233d","webpack:///D:/WorkBase/mp/uni-app/pages/home/posting.vue?6b96","webpack:///D:/WorkBase/mp/uni-app/pages/home/posting.vue","webpack:///D:/WorkBase/mp/uni-app/pages/home/posting.vue?9fcd","webpack:///D:/WorkBase/mp/uni-app/pages/home/posting.vue?63a3"],"names":["createPage","Page","data","text","linkObj","picList","onlyText","editText","textNum","extendList","picInd","t_objs","methods","textChange","e","val","detail","value","len","length","$acFrame","Util","mytotal","changeData","obj","console","log","choosePic","self","uni","chooseImage","count","sizeType","sourceType","success","res","tempFilePaths","i","push","setImg","src","setImgUrl","uploadPic","id","token","getStorageSync","channel","imgUrl","wx","uploadFile","url","getApp","globalData","config","basePath","filePath","header","name","_data","JSON","parse","fail","error","navigateBack","removePic","ind","splice","showpic","showBigPic","linkTo","getText","navigateTo","complete","setLink","removeLink","setVal","type","atUserCode","atName","index","topicId","topicName","t","star","filter","v","mark","end","indexOf","_len","aftertetxt","substring","confirmPost","a_text","replace","RegExp","params","content","itemLinkList","_obj","linkType","goodsId","rankType","key","HttpService","raleasePost","then"],"mappings":"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","file":"pages/home/posting.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/home/posting.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./posting.vue?vue&type=template&id=57cbfe75&\"\nimport script from \"./posting.vue?vue&type=script&lang=js&\"\nexport * from \"./posting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./posting.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('57cbfe75', component.options)\n    } else {\n      api.reload('57cbfe75', component.options)\n    }\n    module.hot.accept(\"./posting.vue?vue&type=template&id=57cbfe75&\", function () {\n      api.rerender('57cbfe75', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"WorkBase/mp/uni-app/pages/home/posting.vue\"\nexport default component.exports","export * from \"-!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./posting.vue?vue&type=template&id=57cbfe75&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.setImg(_vm.linkObj.imgPath)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./posting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./posting.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      text: \"\",\r\n      linkObj: {},\r\n      picList: [],\r\n      onlyText: \"\",\r\n      editText: \"\",\r\n      textNum: 0,\r\n      extendList: [],\r\n      picInd: 0,\r\n\t  t_objs:{}\r\n    };\r\n  },\r\n  methods: {\r\n    textChange(e) {\r\n      let val = e.detail.value;\r\n      this.editText = val;\r\n      let len = val.length;\r\n      if (len > 500) {\r\n        this.$acFrame.Util.mytotal(\"亲，放不下太多的文字了！\");\r\n      } else {\r\n        this.textNum = len;\r\n      }\r\n    },\r\n    changeData(obj) {\r\n      console.log(obj);\r\n      this.linkObj = obj;\r\n    },\r\n    choosePic() {\r\n      let self = this;\r\n\t  let len =self.picList.length\r\n\t  if(len==9){\r\n\t\t  self.$acFrame.Util.mytotal(\"亲，最多上传九张图片哦\");\r\n\t\t  return false;\r\n\t  }\r\n      uni.chooseImage({\r\n        count: 9-len,\r\n        sizeType: [\"compressed\"], // 可以指定是原图还是压缩图，默认二者都有\r\n        sourceType: [\"album\", \"camera\"], // 可以指定来源是相册还是相机，默认二者都有\r\n        success: function(res) {\r\n          let tempFilePaths = res.tempFilePaths;\r\n          for(let i=0;i<tempFilePaths.length;i++){\r\n              self.picList.push(tempFilePaths[i]);\r\n          }  \r\n        }\r\n      });\r\n    },\r\n\tsetImg(src){\r\n\t\treturn  this.$acFrame.Util.setImgUrl(src);\r\n\t},\r\n    uploadPic(id) {\r\n      let token = uni.getStorageSync(\"access_token\");\r\n      let channel = \"MP_WX\";\r\n      let self = this;\r\n      let imgUrl = self.picList[self.picInd];\r\n      let len = self.picList.length;\r\n      if (self.picInd < len) {\r\n        wx.uploadFile({\r\n          url:\r\n            getApp().globalData.config.basePath +\r\n            \"article/info/publish_tie_img?articleTieId=\" +\r\n            id, // 仅为示例，非真实的接口地址\r\n          filePath: imgUrl,\r\n          header: {\r\n            token,\r\n            channel\r\n          },\r\n          // formData:_data,\r\n          name: \"file\",\r\n          success: function(res) {\r\n            let _data = JSON.parse(res.data);\r\n            if (_data.success) {\r\n              self.picInd++;\r\n              self.uploadPic(id);\r\n            }\r\n          },\r\n          fail: error => {\r\n            self.$acFrame.Util.mytotal(\"error\");\r\n          }\r\n        });\r\n      } else {\r\n        uni.navigateBack({});\r\n      }\r\n    },\r\n    removePic(ind) {\r\n      this.picList.splice(ind, 1);\r\n    },\r\n    showpic(ind) {\r\n      this.$acFrame.Util.showBigPic(this.picList[ind], this.picList);\r\n    },\r\n    linkTo(name) {\r\n      this.getText();\r\n      uni.navigateTo({\r\n        url: name,\r\n        success: res => {},\r\n        fail: () => {},\r\n        complete: () => {}\r\n      });\r\n    },\r\n    setLink(obj) {\r\n\t\t//debugger\r\n\t\tconsole.log(obj);\r\n\t\tthis.linkObj = obj;\r\n\t},\r\n\tremoveLink(){\r\n\t\tthis.linkObj = null;\r\n\t},\r\n    setVal(id, name, type) {\r\n      let len = this.onlyText.length;\r\n      let text = this.editText;\r\n      let obj = {};\r\n\t  var t_objs = this.t_objs;\r\n      if (type == \"friend\") {\r\n        obj.atUserCode = id;\r\n        obj.atName = name;\r\n        obj.index = len;\r\n\t\tobj.type=1;\r\n\t\tobj.topicId = 0;\r\n\t\tobj.topicName = \"\";\r\n\t\tvar t = \"@\" + name;\r\n        text += t ;\r\n\t\tt_objs[t]=len;\r\n      } else {\r\n        obj.topicId = id;\r\n        obj.topicName = name;\r\n        obj.atUserCode = \"\";\r\n        obj.atName = \"\";\r\n        obj.index = len;\r\n        obj.type=2;\r\n\t\tvar t = \"#\" + name + \"#\";\r\n\t\ttext += t ;\r\n\t\tt_objs[t]=len;\r\n      }\r\n      this.extendList.push(obj);\r\n      this.editText = text;\r\n    },\r\n    getText() {\r\n      let text = this.editText;\r\n\t  //debugger\r\n      let self = this;\r\n      if (this.extendList.length > 0) {\r\n        let star = 0;\r\n        this.extendList.filter((v, i) => {\r\n          let mark = \"\";\r\n\r\n          if (v.atName) {\r\n            mark = \"@\" + v.atName;\r\n          } else {\r\n            mark = \"#\" + v.topicName + \"#\";\r\n          }\r\n\t\t  let len = text.length\r\n          let end = text.indexOf(mark);\r\n          let _len = mark.length;\r\n\t\t  star = _len+end\r\n\t\t  let aftertetxt = text.substring(star, len);\r\n\t\t  \r\n          self.onlyText += aftertetxt\r\n          star = end + len;\r\n        });\r\n      } else {\r\n        self.onlyText = text;\r\n      }\r\n    },\r\n    confirmPost() {\r\n      this.getText();\r\n      let self = this;\r\n\t \r\n\t  var t_objs = this.t_objs;\r\n\t  var a_text = this.editText;\r\n\t  if(a_text){\r\n\t\t  for(var i in t_objs){\r\n\t\t\t  a_text = a_text.replace(new RegExp(i,\"gm\"),\"{-----}\");  \r\n\t\t  }\r\n\t  }\r\n\t \r\n      let params = {\r\n        content: a_text,\r\n        extendList: this.extendList,\r\n\t\titemLinkList:[],\r\n      };\r\n\t  \r\n\t\tlet _obj = {\r\n\t\t\tlinkType:self.linkObj.type,\r\n\t\t};\r\n\t\tif(self.linkObj.type==1){\r\n\t\t\t _obj.goodsId  = self.linkObj.goodsId\r\n\t\t\t params.itemLinkList.push(_obj)\r\n\t\t}else if(self.linkObj.type==2){\r\n\t\t\t_obj.rankType   = self.linkObj.key\r\n\t\t\tparams.itemLinkList.push(_obj)\r\n\t\t}\r\n      if (!params.content) {\r\n        this.$acFrame.Util.mytotal(\"请输入帖子内容！\");\r\n        return false;\r\n      }\r\n\t  \r\n\t  console.log(params);\r\n\t  \r\n\t  //return ;\r\n      this.$acFrame.HttpService.raleasePost(params).then(res => {\r\n        if (res.success) {\r\n          if (self.picList.length > 0) {\r\n            self.uploadPic(res.data);\r\n          } else {\r\n            uni.navigateBack({});\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n","import mod from \"-!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./posting.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./posting.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}
>>>>>>> af1c4a79800e89c3a485c5c9038f58cdf3ebe64e
